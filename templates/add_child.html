{% from "/macros/_macros.html" import render_field_with_errors, render_field %}
{% extends "layouts/layout1.html" %}
{% block title %}
Add Child
{% endblock %}

{% block content %}

<!-- About Section -->
<section class="bg-primary text-white mb-0" id="about">
  <div class="container">
    <h2 class="text-center text-uppercase text-white form-heading">Add Child</h2>
    <div class="row">
        
        <div class="container form_details">

          {% with messages = get_flashed_messages() %}
            {% if messages %}
              <ul class=flashes>
              {% for message in messages %}
                <li>{{ message }}</li>
              {% endfor %}
              </ul>
            {% endif %}
          {% endwith %}
          Parent name is {{ first_name }}
          Parent last name is {{ last_name}}    
         
          <form method="POST" action="{{ url_for('add_child'), values={{first_name}} }}">
                {{ form.csrf_token }}
                {{ render_field_with_errors(form.first_name, class="form-control") }}
                {{ render_field_with_errors(form.last_name, class="form-control") }}
                {{ render_field_with_errors(form.date_of_birth, class="form-control") }}
                {{ render_field(form.notes, class="form-control") }}       
                <input type="submit" value="submit">
            </form> 
        </div>  
    </div>
  
  </div>
</section>

{% endblock %}